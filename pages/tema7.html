<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Tema 5: Piramid Huruf Bersambung</title>
  <link href="https://fonts.googleapis.com/css2?family=Amiri:wght@400;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --primary: #8e44ad;
      --secondary: #3498db;
      --light: #ecf0f1;
      --dark: #2c3e50;
      --radius: 8px;
    }
    
    body {
      font-family: Arial, sans-serif;
      background: linear-gradient(rgba(255,255,255,0.9), rgba(255,255,255,0.9));
      min-height: 100vh;
      margin: 0;
      padding: 20px;
    }
    
    .site-header {
      background: linear-gradient(135deg, var(--primary), var(--secondary));
      color: white;
      padding: 2rem;
      text-align: center;
      border-radius: var(--radius);
      margin-bottom: 2rem;
    }
    
    .letter-pyramid {
      background-color: white;
      padding: 1.5rem;
      border-radius: var(--radius);
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
      text-align: center;
      margin-bottom: 2rem;
    }
    
    .pyramid-title {
      font-family: 'Amiri', serif;
      font-size: 2.5rem;
      margin-bottom: 1rem;
      color: var(--primary);
    }
    
    .pyramid-subtitle {
      font-size: 1rem;
      color: var(--dark);
      margin-bottom: 1.5rem;
    }
    
    .pyramid-structure {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 5px;
      margin: 1rem 0;
    }
    
    .pyramids-container {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 20px;
      margin: 2rem auto;
      max-width: 1200px;
    }
    
    .pyramid-row {
      display: flex;
      justify-content: center;
      gap: 20px;
    }
    
    .arabic-cell {
      font-family: 'Amiri', serif;
      font-size: 2.5rem;
      background-color: var(--light);
      color: var(--dark);
      width: 120px;
      height: 120px;
      display: flex;
      align-items: center;
      justify-content: center;
      clip-path: polygon(50% 0%, 0% 100%, 100% 100%);
      transition: all 0.3s ease;
      cursor: pointer;
      margin: 0 5px;
      position: relative;
    }
    
    .arabic-cell:hover {
      transform: scale(1.3);
      background-color: var(--primary);
      color: white;
      z-index: 10;
      box-shadow: 0 0 10px rgba(0,0,0,0.2);
    }
    
    .letter-info {
      margin-top: 1rem;
      padding: 1rem;
      background-color: rgba(52, 152, 219, 0.1);
      border-radius: var(--radius);
    }
    
    .harakat-selector {
      margin: 1rem 0;
      display: flex;
      justify-content: center;
      gap: 1rem;
    }
    
    .harakat-btn {
      padding: 0.5rem 1rem;
      border: none;
      border-radius: var(--radius);
      cursor: pointer;
      font-weight: bold;
      background-color: #e0e0e0;
    }
    
    .harakat-btn.active {
      background-color: var(--primary);
      color: white;
    }
    
    .button-group {
      display: flex;
      justify-content: center;
      gap: 1rem;
      margin: 2rem 0;
    }
    
    .button {
      background-color: var(--primary);
      color: white;
      padding: 0.7rem 1.8rem;
      border: none;
      border-radius: var(--radius);
      text-decoration: none;
      font-weight: bold;
      transition: all 0.3s;
      cursor: pointer;
    }
    
    .button:hover {
      background-color: var(--secondary);
      transform: translateY(-3px);
    }
    
    .sound-indicator {
      position: absolute;
      bottom: 5px;
      right: 5px;
      font-size: 0.7rem;
      opacity: 0.7;
    }
    
    @media (max-width: 768px) {
      .pyramids-container {
        grid-template-columns: 1fr;
      }
      
      .arabic-cell {
        width: 80px;
        height: 80px;
        font-size: 1.8rem;
      }
      
      .harakat-selector {
        flex-direction: column;
        align-items: center;
      }
    }
  </style>
</head>
<body class="tema7">
  <header class="site-header">
    <h1>Tema 5: Piramid Huruf Bersambung</h1>
    <p class="tagline">Belajar Huruf Ba, Ta, Za, Mim, Da dan Sa dengan Alif, Ya, Waw</p>
  </header>

  <main class="main-content">
    <div class="harakat-selector">
      <button class="harakat-btn active" onclick="changeCombination('fathah')">Fathah (ـَ + ا)</button>
      <button class="harakat-btn" onclick="changeCombination('kasrah')">Kasrah (ـِ + ي)</button>
      <button class="harakat-btn" onclick="changeCombination('dammah')">Dammah (ـُ + و)</button>
    </div>

    <div class="pyramids-container">
      <!-- Pyramid 1: Ba (ب) -->
      <div class="letter-pyramid">
        <div class="pyramid-title" id="ba-title">بَا</div>
        <div class="pyramid-subtitle">Huruf Ba Bersambung</div>
        <div class="pyramid-structure">
          <div class="pyramid-row">
            <div class="arabic-cell" data-letter="ba">بَا<span class="sound-indicator">🔊</span></div>
          </div>
          <div class="pyramid-row">
            <div class="arabic-cell" data-letter="ba">بَا<span class="sound-indicator">🔊</span></div>
            <div class="arabic-cell" data-letter="ba">بَا<span class="sound-indicator">🔊</span></div>
          </div>
          <div class="pyramid-row">
            <div class="arabic-cell" data-letter="ba">بَا<span class="sound-indicator">🔊</span></div>
            <div class="arabic-cell" data-letter="ba">بَا<span class="sound-indicator">🔊</span></div>
            <div class="arabic-cell" data-letter="ba">بَا<span class="sound-indicator">🔊</span></div>
          </div>
        </div>
        <div class="letter-info">
          <p><strong>Bunyi:</strong> <span id="ba-sound">bā</span> (panjang)</p>
          <p><strong>Contoh:</strong> <span id="ba-word">بَاب</span> (<span id="ba-meaning">bāb - pintu</span>)</p>
        </div>
      </div>
      
      <!-- Pyramid 2: Ta (ت) -->
      <div class="letter-pyramid">
        <div class="pyramid-title" id="ta-title">تَا</div>
        <div class="pyramid-subtitle">Huruf Ta Bersambung</div>
        <div class="pyramid-structure">
          <div class="pyramid-row">
            <div class="arabic-cell" data-letter="ta">تَا<span class="sound-indicator">🔊</span></div>
          </div>
          <div class="pyramid-row">
            <div class="arabic-cell" data-letter="ta">تَا<span class="sound-indicator">🔊</span></div>
            <div class="arabic-cell" data-letter="ta">تَا<span class="sound-indicator">🔊</span></div>
          </div>
          <div class="pyramid-row">
            <div class="arabic-cell" data-letter="ta">تَا<span class="sound-indicator">🔊</span></div>
            <div class="arabic-cell" data-letter="ta">تَا<span class="sound-indicator">🔊</span></div>
            <div class="arabic-cell" data-letter="ta">تَا<span class="sound-indicator">🔊</span></div>
          </div>
        </div>
        <div class="letter-info">
          <p><strong>Bunyi:</strong> <span id="ta-sound">tā</span> (panjang)</p>
          <p><strong>Contoh:</strong> <span id="ta-word">تَاج</span> (<span id="ta-meaning">tāj - mahkota</span>)</p>
        </div>
      </div>
      
      <!-- Pyramid 3: Za (ز) -->
      <div class="letter-pyramid">
        <div class="pyramid-title" id="za-title">زَا</div>
        <div class="pyramid-subtitle">Huruf Za Bersambung</div>
        <div class="pyramid-structure">
          <div class="pyramid-row">
            <div class="arabic-cell" data-letter="za">زَا<span class="sound-indicator">🔊</span></div>
          </div>
          <div class="pyramid-row">
            <div class="arabic-cell" data-letter="za">زَا<span class="sound-indicator">🔊</span></div>
            <div class="arabic-cell" data-letter="za">زَا<span class="sound-indicator">🔊</span></div>
          </div>
          <div class="pyramid-row">
            <div class="arabic-cell" data-letter="za">زَا<span class="sound-indicator">🔊</span></div>
            <div class="arabic-cell" data-letter="za">زَا<span class="sound-indicator">🔊</span></div>
            <div class="arabic-cell" data-letter="za">زَا<span class="sound-indicator">🔊</span></div>
          </div>
        </div>
        <div class="letter-info">
          <p><strong>Bunyi:</strong> <span id="za-sound">zā</span> (panjang)</p>
          <p><strong>Contoh:</strong> <span id="za-word">زَاوِيَة</span> (<span id="za-meaning">zāwiyah - sudut</span>)</p>
        </div>
      </div>
      
      <!-- Pyramid 4: Mim (م) -->
      <div class="letter-pyramid">
        <div class="pyramid-title" id="mim-title">مَا</div>
        <div class="pyramid-subtitle">Huruf Mim Bersambung</div>
        <div class="pyramid-structure">
          <div class="pyramid-row">
            <div class="arabic-cell" data-letter="mim">مَا<span class="sound-indicator">🔊</span></div>
          </div>
          <div class="pyramid-row">
            <div class="arabic-cell" data-letter="mim">مَا<span class="sound-indicator">🔊</span></div>
            <div class="arabic-cell" data-letter="mim">مَا<span class="sound-indicator">🔊</span></div>
          </div>
          <div class="pyramid-row">
            <div class="arabic-cell" data-letter="mim">مَا<span class="sound-indicator">🔊</span></div>
            <div class="arabic-cell" data-letter="mim">مَا<span class="sound-indicator">🔊</span></div>
            <div class="arabic-cell" data-letter="mim">مَا<span class="sound-indicator">🔊</span></div>
          </div>
        </div>
        <div class="letter-info">
          <p><strong>Bunyi:</strong> <span id="mim-sound">mā</span> (panjang)</p>
          <p><strong>Contoh:</strong> <span id="mim-word">مَاء</span> (<span id="mim-meaning">mā' - air</span>)</p>
        </div>
      </div>
      
      <!-- Pyramid 5: Da (د) -->
      <div class="letter-pyramid">
        <div class="pyramid-title" id="da-title">دَا</div>
        <div class="pyramid-subtitle">Huruf Da Bersambung</div>
        <div class="pyramid-structure">
          <div class="pyramid-row">
            <div class="arabic-cell" data-letter="da">دَا<span class="sound-indicator">🔊</span></div>
          </div>
          <div class="pyramid-row">
            <div class="arabic-cell" data-letter="da">دَا<span class="sound-indicator">🔊</span></div>
            <div class="arabic-cell" data-letter="da">دَا<span class="sound-indicator">🔊</span></div>
          </div>
          <div class="pyramid-row">
            <div class="arabic-cell" data-letter="da">دَا<span class="sound-indicator">🔊</span></div>
            <div class="arabic-cell" data-letter="da">دَا<span class="sound-indicator">🔊</span></div>
            <div class="arabic-cell" data-letter="da">دَا<span class="sound-indicator">🔊</span></div>
          </div>
        </div>
        <div class="letter-info">
          <p><strong>Bunyi:</strong> <span id="da-sound">dā</span> (panjang)</p>
          <p><strong>Contoh:</strong> <span id="da-word">دَار</span> (<span id="da-meaning">dār - rumah</span>)</p>
        </div>
      </div>
      
      <!-- Pyramid 6: Sa (س) -->
      <div class="letter-pyramid">
        <div class="pyramid-title" id="sa-title">سَا</div>
        <div class="pyramid-subtitle">Huruf Sa Bersambung</div>
        <div class="pyramid-structure">
          <div class="pyramid-row">
            <div class="arabic-cell" data-letter="sa">سَا<span class="sound-indicator">🔊</span></div>
          </div>
          <div class="pyramid-row">
            <div class="arabic-cell" data-letter="sa">سَا<span class="sound-indicator">🔊</span></div>
            <div class="arabic-cell" data-letter="sa">سَا<span class="sound-indicator">🔊</span></div>
          </div>
          <div class="pyramid-row">
            <div class="arabic-cell" data-letter="sa">سَا<span class="sound-indicator">🔊</span></div>
            <div class="arabic-cell" data-letter="sa">سَا<span class="sound-indicator">🔊</span></div>
            <div class="arabic-cell" data-letter="sa">سَا<span class="sound-indicator">🔊</span></div>
          </div>
        </div>
        <div class="letter-info">
          <p><strong>Bunyi:</strong> <span id="sa-sound">sā</span> (panjang)</p>
          <p><strong>Contoh:</strong> <span id="sa-word">سَاعَة</span> (<span id="sa-meaning">sā'ah - jam/waktu</span>)</p>
        </div>
      </div>
    </div>

    <div class="button-group">
      <a href="../index.html" class="button">Kembali ke Laman Utama</a>
      <a href="../pages/q7.html" class="button">Uji Pemahaman</a>
    </div>
  </main>

  <footer class="site-footer">
    <p>Dibawakan oleh <a href="./teachers.html" class="credit-link">Guru SK Gading-Gading</a></p>
  </footer>

  <!-- Audio elements for each letter combination -->
  <audio id="ba-fathah-sound" preload="auto">
    <source src="/audio/ba.mp3" type="audio/mpeg">
  </audio>
  <audio id="ta-fathah-sound" preload="auto">
    <source src="/audio/ta.mp3" type="audio/mpeg">
  </audio>
  <audio id="za-fathah-sound" preload="auto">
    <source src="/audio/za.mp3" type="audio/mpeg">
  </audio>
  <audio id="mim-fathah-sound" preload="auto">
    <source src="/audio/ma.mp3" type="audio/mpeg">
  </audio>
  <audio id="da-fathah-sound" preload="auto">
    <source src="/audio/da.mp3" type="audio/mpeg">
  </audio>
  <audio id="sa-fathah-sound" preload="auto">
    <source src="/audio/sa.mp3" type="audio/mpeg">
  </audio>
  
  <audio id="ba-kasrah-sound" preload="auto">
    <source src="/audio/bi.mp3" type="audio/mpeg">
  </audio>
  <audio id="ta-kasrah-sound" preload="auto">
    <source src="/audio/ti.mp3" type="audio/mpeg">
  </audio>
  <audio id="za-kasrah-sound" preload="auto">
    <source src="/audio/zi.mp3" type="audio/mpeg">
  </audio>
  <audio id="mim-kasrah-sound" preload="auto">
    <source src="/audio/mi.mp3" type="audio/mpeg">
  </audio>
  <audio id="da-kasrah-sound" preload="auto">
    <source src="/audio/di.mp3" type="audio/mpeg">
  </audio>
  <audio id="sa-kasrah-sound" preload="auto">
    <source src="/audio/si.mp3" type="audio/mpeg">
  </audio>
  
  <audio id="ba-dammah-sound" preload="auto">
    <source src="/audio/bu.mp3" type="audio/mpeg">
  </audio>
  <audio id="ta-dammah-sound" preload="auto">
    <source src="/audio/tu.mp3" type="audio/mpeg">
  </audio>
  <audio id="za-dammah-sound" preload="auto">
    <source src="/audio/zu.mp3" type="audio/mpeg">
  </audio>
  <audio id="mim-dammah-sound" preload="auto">
    <source src="/audio/mu.mp3" type="audio/mpeg">
  </audio>
  <audio id="da-dammah-sound" preload="auto">
    <source src="/audio/du.mp3" type="audio/mpeg">
  </audio>
  <audio id="sa-dammah-sound" preload="auto">
    <source src="/audio/su.mp3" type="audio/mpeg">
  </audio>

  <script>
  // Current combination type
  let currentCombination = 'fathah';
  
  // Function to play sound
  function playSound(letter, combination) {
    const soundId = `${letter}-${combination}-sound`;
    const audioElement = document.getElementById(soundId);
    
    if (audioElement) {
      audioElement.currentTime = 0;
      audioElement.play().catch(error => {
        console.log("Audio play failed:", error);
      });
    } else {
      console.warn(`Audio element not found: ${soundId}`);
    }
  }

  // Function to bind events (hover + click) to all cells
  function bindCellEvents() {
    document.querySelectorAll('.arabic-cell').forEach(cell => {
      cell.onclick = () => {
        const letter = cell.getAttribute('data-letter');
        playSound(letter, currentCombination);
      };
      cell.onmouseenter = () => {
        const letter = cell.getAttribute('data-letter');
        playSound(letter, currentCombination);
      };
    });
  }
  
  // Function to change combination
  function changeCombination(type) {
    // Update active button
    document.querySelectorAll('.harakat-btn').forEach(btn => {
      btn.classList.remove('active');
    });
    event.target.classList.add('active');
    
    currentCombination = type;
    
    const combinationData = {
      fathah: {
        ba: { letter: 'بَا', sound: 'bā', word: 'بَاب', meaning: 'bāb - pintu' },
        ta: { letter: 'تَا', sound: 'tā', word: 'تَاج', meaning: 'tāj - mahkota' },
        za: { letter: 'زَا', sound: 'zā', word: 'زَاوِيَة', meaning: 'zāwiyah - sudut' },
        mim: { letter: 'مَا', sound: 'mā', word: 'مَاء', meaning: "mā' - air" },
        da: { letter: 'دَا', sound: 'dā', word: 'دَار', meaning: "dār - rumah" },
        sa: { letter: 'سَا', sound: 'sā', word: 'سَاعَة', meaning: "sā'ah - jam/waktu" }
      },
      kasrah: {
        ba: { letter: 'بِي', sound: 'bī', word: 'بِيت', meaning: 'bīt - rumah' },
        ta: { letter: 'تِي', sound: 'tī', word: 'تِين', meaning: 'tīn - buah tin' },
        za: { letter: 'زِي', sound: 'zī', word: 'زِينَة', meaning: 'zīnah - hiasan' },
        mim: { letter: 'مِي', sound: 'mī', word: 'مِيزَان', meaning: 'mīzān - timbangan' },
        da: { letter: 'دِي', sound: 'dī', word: 'دِين', meaning: 'dīn - agama' },
        sa: { letter: 'سِي', sound: 'sī', word: 'سِين', meaning: 'sīn - huruf sin' }
      },
      dammah: {
        ba: { letter: 'بُو', sound: 'bū', word: 'بُور', meaning: 'būr - (tanah) gersang' },
        ta: { letter: 'تُو', sound: 'tū', word: 'تُوت', meaning: 'tūt - buah mulberi' },
        za: { letter: 'زُو', sound: 'zū', word: 'زُور', meaning: 'zūr - palsu' },
        mim: { letter: 'مُو', sound: 'mū', word: 'مُوسَى', meaning: 'Mūsā - Nabi Musa' },
        da: { letter: 'دُو', sound: 'dū', word: 'دُولَة', meaning: 'dūlah - negara' },
        sa: { letter: 'سُو', sound: 'sū', word: 'سُورَة', meaning: 'sūrah - surah' }
      }
    };
    
    // Update pyramids
    const letters = ['ba', 'ta', 'za', 'mim', 'da', 'sa'];
    letters.forEach(letter => {
      const data = combinationData[type][letter];
      
      // Update title
      document.getElementById(`${letter}-title`).textContent = data.letter;
      
      // Update pyramid cells
      const pyramid = document.querySelectorAll(`.letter-pyramid:nth-child(${letters.indexOf(letter)+1}) .arabic-cell`);
      pyramid.forEach(cell => {
        cell.innerHTML = `${data.letter}<span class="sound-indicator">🔊</span>`;
        cell.setAttribute('data-letter', letter);
      });
      
      // Update info
      document.getElementById(`${letter}-sound`).textContent = data.sound;
      document.getElementById(`${letter}-word`).textContent = data.word;
      document.getElementById(`${letter}-meaning`).textContent = data.meaning;
    });

    // Rebind events after update
    bindCellEvents();
  }
  
  // Initial binding
  document.addEventListener('DOMContentLoaded', function() {
    bindCellEvents();
  });
</script>

</body>
</html>